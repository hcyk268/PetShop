<Window x:Class="Pet_Shop_Project.Views.ChangePhoneDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Cập nhật số điện thoại" 
        Height="310" 
        Width="500"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize">

    <Border Background="White"
            CornerRadius="20"
            BorderThickness="0">
        <Border.Effect>
            <DropShadowEffect ShadowDepth="0" BlurRadius="30" Opacity="0.3"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" 
                    Background="#F78272"
                    CornerRadius="20,20,0,0"
                    Padding="30,20"
                    Margin="0,0,0,20">
                <Grid>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <materialDesign:PackIcon Kind="Phone"
                                               Width="32"
                                               Height="32"
                                               Foreground="White"
                                               VerticalAlignment="Center"
                                               Margin="0,0,10,0"/>
                        <TextBlock Text="CẬP NHẬT SỐ ĐIỆN THOẠI"
                                  FontSize="24"
                                  FontWeight="Bold"
                                  Foreground="White"
                                  VerticalAlignment="Center"/>
                    </StackPanel>

                    
                </Grid>
            </Border>

            <!-- Content -->
            <Grid Grid.Row="1" Margin="30,10,30,20">
                <StackPanel>
                    <!-- Phone Input -->
                    <TextBlock Text="Số điện thoại mới"
                              FontSize="14"
                              FontWeight="SemiBold"
                              Foreground="#666666"
                              Margin="0,0,0,8"/>

                    <Border Background="#F8FFFE"
                           BorderBrush="#E0E0E0"
                           BorderThickness="1"
                           CornerRadius="10">
                        <Grid>
                            <TextBox x:Name="PhoneTextBox"
                                    FontSize="15"
                                    Padding="15,12"
                                    BorderThickness="0"
                                    Background="Transparent"
                                    MaxLength="15"
                                    TextChanged="PhoneTextBox_TextChanged"
                                    PreviewTextInput="PhoneTextBox_PreviewTextInput"/>
                            <materialDesign:PackIcon Kind="PhoneOutline"
                                                   Width="20"
                                                   Height="20"
                                                   Foreground="#F78272"
                                                   HorizontalAlignment="Right"
                                                   VerticalAlignment="Center"
                                                   Margin="0,0,15,0"
                                                   IsHitTestVisible="False"/>
                        </Grid>
                    </Border>

                    <TextBlock x:Name="PhoneError"
                              Text=""
                              FontSize="12"
                              Foreground="#FF6B6B"
                              Margin="5,5,0,0"
                              Visibility="Collapsed"/>

                    <!-- Helper Text -->
                    <TextBlock Text="Vui lòng nhập số điện thoại 10 số (bắt đầu bằng 0)"
                              FontSize="11"
                              Foreground="#999999"
                              Margin="5,8,0,0"/>
                </StackPanel>
            </Grid>

            <!-- Footer Buttons -->
            <Border Grid.Row="2"
                    BorderBrush="#E0E0E0"
                    BorderThickness="0,1,0,0"
                    Padding="30,20">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Cancel Button -->
                    <Button Grid.Column="0"
                           Content="Hủy"
                           FontSize="14"
                           FontWeight="SemiBold"
                           Height="45"
                           Margin="0,0,10,0"
                           Background="#E0E0E0"
                           Foreground="#666666"
                           BorderThickness="0"
                           Cursor="Hand"
                           Click="CancelButton_Click">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}"
                                                   CornerRadius="22.5">
                                                <ContentPresenter HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#BDBDBD"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <!-- Save Button -->
                    <Button Grid.Column="1"
                           x:Name="SaveButton"
                           Content="Lưu thay đổi"
                           FontSize="14"
                           FontWeight="SemiBold"
                           Height="45"
                           Margin="10,0,0,0"
                           Background="#F78272"
                           Foreground="White"
                           BorderThickness="0"
                           Cursor="Hand"
                           Click="SaveButton_Click">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}"
                                                   CornerRadius="22.5">
                                                <ContentPresenter HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#F56B5B"/>
                                    </Trigger>
                                    <Trigger Property="IsEnabled" Value="False">
                                        <Setter Property="Background" Value="#BDBDBD"/>
                                        <Setter Property="Cursor" Value="Arrow"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>