<Page x:Class="Pet_Shop_Project.Views.HomePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Pet_Shop_Project.Views"
      xmlns:controls="clr-namespace:Pet_Shop_Project.Controls"
      mc:Ignorable="d" 
      d:DesignHeight="650" d:DesignWidth="1000"
      Background="#F5F5F5">

    <Page.Resources>
        <!-- Category Button Style -->
        <Style x:Key="CategoryButtonStyle" TargetType="Button">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#FFE5B07E" Offset="0"/>
                        <GradientStop Color="#FFD49A5E" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Height" Value="70"/>
            <Setter Property="MinWidth" Value="250"/>
            <Setter Property="Margin" Value="15,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="35"
                                Padding="30,0">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <ContentPresenter Grid.Column="0"
                                                x:Name="IconPresenter"
                                                Content="{TemplateBinding Tag}"
                                                VerticalAlignment="Center"
                                                Margin="0,0,15,0"/>

                                <TextBlock Grid.Column="1"
                                          Text="{TemplateBinding Content}"
                                          VerticalAlignment="Center"
                                          HorizontalAlignment="Left"
                                          FontSize="{TemplateBinding FontSize}"
                                          FontWeight="{TemplateBinding FontWeight}"
                                          Foreground="{TemplateBinding Foreground}"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                            <GradientStop Color="#FFEFBF8F" Offset="0"/>
                                            <GradientStop Color="#FFDEA46E" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="100"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Navigation Bar -->
        <controls:NavigationBar Grid.Column="0"/>

        <!-- Main Content -->
        <Grid Grid.Column="1" Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header with Logo and Search -->
            <Grid Grid.Row="0" Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Logo -->
                <StackPanel Grid.Column="0" 
                           Orientation="Horizontal"
                           VerticalAlignment="Center">
                    <Border Width="60" Height="60" 
                           Background="#FFECB584"
                           CornerRadius="30"
                           Margin="0,0,15,0">
                        <Image Source="/Resources/logo.png" 
                               Stretch="Uniform"
                               Margin="10"/>
                    </Border>
                    <TextBlock Text="MIMI" 
                              FontSize="48"
                              FontWeight="Bold"
                              Foreground="#FFE5A16E"
                              VerticalAlignment="Center"/>
                </StackPanel>

                <!-- Search Box -->
                <Border Grid.Column="1"
                       Background="White"
                       CornerRadius="30"
                       Height="60"
                       Margin="100,0,0,0"
                       VerticalAlignment="Center"
                       Padding="20,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Path Grid.Column="0"
                             Data="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"
                             Fill="#999999"
                             Width="24"
                             Height="24"
                             Stretch="Uniform"
                             VerticalAlignment="Center"
                             Margin="0,0,15,0"/>

                        <TextBox Grid.Column="1"
                                x:Name="SearchBox"
                                FontSize="18"
                                Background="Transparent"
                                BorderThickness="0"
                                VerticalAlignment="Center"
                                Foreground="#666666">
                            <TextBox.Style>
                                <Style TargetType="TextBox">
                                    <Style.Triggers>
                                        <Trigger Property="Text" Value="">
                                            <Setter Property="Background">
                                                <Setter.Value>
                                                    <VisualBrush Stretch="None" AlignmentX="Left">
                                                        <VisualBrush.Visual>
                                                            <TextBlock Text="Tìm kiếm sản phẩm" 
                                                                     Foreground="#CCCCCC"
                                                                     FontSize="18"/>
                                                        </VisualBrush.Visual>
                                                    </VisualBrush>
                                                </Setter.Value>
                                            </Setter>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBox.Style>
                        </TextBox>
                    </Grid>
                </Border>
            </Grid>

            <!-- Category Buttons -->
            <StackPanel Grid.Row="1" 
                       Orientation="Horizontal"
                       HorizontalAlignment="Left"
                       Margin="0,0,0,30">

                <Button Style="{StaticResource CategoryButtonStyle}"
                       Content="Thức ăn"
                       x:Name="FoodButton">
                    <Button.Tag>
                        <Path Data="M12,3L8,9.5H11V14.5H13V9.5H16M5,20A2,2 0 0,1 3,18C3,16.89 3.89,16 5,16H19A2,2 0 0,1 21,18C21,19.11 20.11,20 19,20H5Z"
                             Fill="White"
                             Width="28"
                             Height="28"
                             Stretch="Uniform"/>
                    </Button.Tag>
                </Button>

                <Button Style="{StaticResource CategoryButtonStyle}"
                       Content="Đồ chơi"
                       x:Name="ToyButton">
                    <Button.Tag>
                        <Path Data="M12,2C14.21,2 16,3.79 16,6C16,7.2 15.5,8.27 14.66,9C15.5,9.73 16,10.8 16,12C16,14.21 14.21,16 12,16C9.79,16 8,14.21 8,12C8,10.8 8.5,9.73 9.34,9C8.5,8.27 8,7.2 8,6C8,3.79 9.79,2 12,2M12,4A2,2 0 0,0 10,6A2,2 0 0,0 12,8A2,2 0 0,0 14,6A2,2 0 0,0 12,4M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M7,22V18A5,5 0 0,1 12,13A5,5 0 0,1 17,18V22H15V18A3,3 0 0,0 12,15A3,3 0 0,0 9,18V22H7Z"
                             Fill="White"
                             Width="28"
                             Height="28"
                             Stretch="Uniform"/>
                    </Button.Tag>
                </Button>

                <Button Style="{StaticResource CategoryButtonStyle}"
                       Content="Dụng cụ"
                       x:Name="ToolButton">
                    <Button.Tag>
                        <Path Data="M16.84,2.73C16.45,2.73 16.07,2.88 15.77,3.17L13.65,5.29L17.41,9.05L19.53,6.93C20.13,6.33 20.13,5.38 19.53,4.78L18.91,4.16C18.61,3.87 18.23,3.72 17.84,3.72M12.94,6L4.84,14.11L7.4,16.67L15.5,8.57M4.25,15.04L2.5,21.73L9.2,19.94L8.96,19.7L4.25,15.04Z"
                             Fill="White"
                             Width="28"
                             Height="28"
                             Stretch="Uniform"/>
                    </Button.Tag>
                </Button>
            </StackPanel>

            <!-- Banner/Advertisement -->
            <Border Grid.Row="2"
                   Background="#D0D0D0"
                   Height="300"
                   CornerRadius="20"
                   Margin="0,0,0,30">
                <Grid>
                    <TextBlock Text="Banner Quảng Cáo"
                             FontSize="32"
                             FontWeight="Bold"
                             Foreground="#888888"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Center"/>
                    <!-- Thêm Image control khi có banner -->
                    <Image x:Name="BannerImage" 
                          Stretch="UniformToFill"
                          Visibility="Collapsed"/>
                </Grid>
            </Border>

            <!-- Filter Section -->
            <StackPanel Grid.Row="3" 
                       Orientation="Horizontal"
                       Margin="0,0,0,20">
                <Path Data="M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"
                     Fill="#FFA500"
                     Width="24"
                     Height="24"
                     Stretch="Uniform"
                     VerticalAlignment="Center"
                     Margin="0,0,10,0"/>

                <TextBlock Text="Filter by"
                          FontSize="20"
                          FontWeight="SemiBold"
                          Foreground="#FFA500"
                          VerticalAlignment="Center"
                          Margin="0,0,15,0"/>

                <Border Background="White"
                       BorderBrush="#FFA500"
                       BorderThickness="2"
                       CornerRadius="20"
                       Padding="15,8">
                    <ComboBox x:Name="FilterComboBox"
                            BorderThickness="0"
                            Background="Transparent"
                            FontSize="16"
                            MinWidth="150">
                        <ComboBoxItem Content="Tất cả"/>
                        <ComboBoxItem Content="Giá thấp đến cao"/>
                        <ComboBoxItem Content="Giá cao đến thấp"/>
                        <ComboBoxItem Content="Đánh giá cao nhất"/>
                    </ComboBox>
                </Border>
            </StackPanel>

            <!-- Products Grid -->
            <ScrollViewer Grid.Row="4" 
                         VerticalScrollBarVisibility="Auto"
                         HorizontalScrollBarVisibility="Disabled">
                <WrapPanel x:Name="ProductsPanel"
                          Orientation="Horizontal"
                          HorizontalAlignment="Left">
                </WrapPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Page>